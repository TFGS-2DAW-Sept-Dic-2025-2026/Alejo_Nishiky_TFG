<div class="flex min-h-screen flex-col bg-[#f6f7f8] dark:bg-[#101c22] font-sans">
  <!-- Header -->
  <header class="sticky top-0 z-10 bg-[#f6f7f8]/90 dark:bg-[#101c22]/80 backdrop-blur-sm">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="flex h-16 items-center justify-between">
        <div class="flex items-center gap-3 text-slate-900 dark:text-slate-100">
          <svg class="h-6 w-6 text-[#13a4ec]" viewBox="0 0 24 24" fill="currentColor">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM11 11V17H13V11H11ZM11 7V9H13V7H11Z" />
          </svg>
          <h1 class="text-xl font-bold">VecinoTech Comunidad</h1>
        </div>

        <div class="flex items-center gap-4">
          @if (usuarioSig(); as u) {
            <p class="hidden text-slate-800 dark:text-slate-200 sm:block">
              Welcome, {{ u.nombre }}!
            </p>
          }
          <button
            (click)="logout()"
            class="rounded-lg bg-slate-200 px-4 py-2 text-sm font-medium text-slate-800 transition-colors hover:bg-slate-300 dark:bg-slate-700/50 dark:text-slate-200 dark:hover:bg-slate-600/50">
            Logout
          </button>

          <div class="h-10 w-10 rounded-full bg-cover bg-center"
            [style.backgroundImage]="'url(' + avatarUrlSig() + ')'"></div>
        </div>
      </div>
    </div>
  </header>

  <main class="flex-grow">
    <!-- Hero -->
    <div class="relative h-96">
      <div
        class="absolute inset-0 bg-cover bg-center"
        [style.background-image]="'url(' + bannerUrl + ')'"
      ></div>
      <div class="absolute inset-0 bg-black/40"></div>
      <div class="relative flex h-full flex-col items-center justify-center p-4 text-center text-white">
        <h2 class="mb-4 text-4xl font-extrabold md:text-5xl">Announcements</h2>
        <p class="max-w-2xl">
          Stay updated with the latest news and events in our community. Here's what's new!
        </p>
      </div>
    </div>

    <!-- CTAs -->
    <div class="mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 gap-8 text-center md:grid-cols-2">
        <div
          class="transform rounded-xl bg-[#f6f7f8] p-8 shadow-lg transition hover:-translate-y-1 hover:shadow-2xl dark:bg-[#101c22]">
          <h3 class="mb-4 text-2xl font-bold text-slate-900 dark:text-slate-100">Ready to Help?</h3>
          <p class="mb-6 text-slate-600 dark:text-slate-400">
            Join our amazing team of volunteers and make a real impact in the community.
          </p>
          <button
            (click)="onVolunteer()"
            class="w-full rounded-lg bg-[#13a4ec] px-6 py-3 font-bold text-white transition-opacity hover:opacity-90">
            Volunteer
          </button>
        </div>

        <div
          class="transform rounded-xl bg-[#f6f7f8] p-8 shadow-lg transition hover:-translate-y-1 hover:shadow-2xl dark:bg-[#101c22]">
          <h3 class="mb-4 text-2xl font-bold text-slate-900 dark:text-slate-100">Need a Hand?</h3>
          <p class="mb-6 text-slate-600 dark:text-slate-400">
            Don't hesitate to ask for assistance. We're here to support you.
          </p>
          <button
            (click)="onNeedHelp()"
            class="w-full rounded-lg bg-slate-200 px-6 py-3 font-bold text-slate-800 transition-colors hover:bg-slate-300 dark:bg-slate-700/50 dark:text-slate-200 dark:hover:bg-slate-600/50">
            Need Help
          </button>
        </div>
      </div>

      <!-- Leaderboard -->
      <div class="mt-16">
        <h2 class="mb-8 text-center text-3xl font-bold text-slate-900 dark:text-slate-100">
          Community Leaderboard
        </h2>

        <div class="rounded-xl bg-[#f6f7f8] p-6 shadow-lg dark:bg-[#101c22]">
          @if (leaderboardR().codigo === 100) {
            <div class="text-center text-slate-600 dark:text-slate-400">Cargando ranking...</div>
          } @else if (!leaders().length) {
            <div class="text-center text-slate-600 dark:text-slate-400">AÃºn no hay datos.</div>
          } @else {
            <div class="space-y-6">
              @for (l of leaders(); track l.name; let i = $index) {
                <div class="group" [style.--bar-width]="barWidth(l.points) + '%'">
                  <div class="mb-1 flex items-center justify-between">
                    <span class="font-semibold text-slate-800 dark:text-slate-200">{{ i + 1 }}. {{ l.name }}</span>
                    <span class="text-sm font-medium text-slate-500 dark:text-slate-400">{{ l.points }} Points</span>
                  </div>
                  <div class="h-4 w-full rounded-full bg-slate-200 dark:bg-slate-700">
                    <div class="bar-fill h-4 w-0 rounded-full bg-[#13a4ec] transition-all duration-1000 ease-out group-hover:w-[var(--bar-width)]"></div>
                  </div>
                </div>
              }
            </div>
          }
        </div>
      </div>
    </div>
  </main>
</div>
