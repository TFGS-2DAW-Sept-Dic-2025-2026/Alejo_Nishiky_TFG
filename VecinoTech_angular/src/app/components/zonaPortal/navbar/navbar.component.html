<header class="sticky top-0 z-10 bg-[#f6f7f8]/90 dark:bg-[#101c22]/80 backdrop-blur-sm">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="flex h-16 items-center justify-between">

      <!-- ==================== LOGO + T√çTULO ==================== -->
      <div class="flex items-center gap-3 text-slate-900 dark:text-slate-100">
        <svg class="h-6 w-6 text-[#13a4ec]" viewBox="0 0 24 24" fill="currentColor">
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2ZM12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM11 11V17H13V11H11ZM11 7V9H13V7H11Z" />
        </svg>
        <h1 class="text-xl font-bold">VecinoTech Comunidad</h1>
      </div>

      <!-- ==================== BOTONES DE NAVEGACI√ìN (CENTRO - SOLO VOLUNTARIO/SOLICITANTE) ==================== -->
      @if (mode !== 'portal') {
        <div class="hidden md:flex items-center gap-2 flex-1 justify-center">

          <!-- Bot√≥n: Volver al Portal -->
          <button
            (click)="irAlPortal()"
            class="flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path d="M15 19l-7-7 7-7" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
            </svg>
            Portal
          </button>

          <!-- Bot√≥n: Mapa (solo voluntarios) -->
          @if (mostrarBotonMapa()) {
            <button
              (click)="irAlMapa()"
              class="flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition"
            >
              üó∫Ô∏è Mapa
            </button>
          }

          <!-- Bot√≥n: Mis Voluntariados (solo voluntarios) -->
          @if (mostrarBotonVoluntariados()) {
            <button
              (click)="irAMisVoluntariados()"
              class="flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition"
            >
              ü§ù Mis Voluntariados
            </button>
          }

          <!-- Bot√≥n: Historial (voluntarios y solicitantes) -->
          @if (mostrarBotonHistorial()) {
            <button
              (click)="irAHistorial()"
              class="flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition"
            >
              üìú Historial
            </button>
          }
        </div>
      }

      <!-- ==================== USUARIO + ACCIONES (DERECHA) ==================== -->
      <div class="flex items-center gap-4">

        <!-- Saludo con nombre (solo en portal) -->
        @if (mode === 'portal') {
          <p class="hidden text-slate-800 dark:text-slate-200 sm:block">
            Bienvenido, {{ nombreUsuario() }}!
          </p>
        } @else {
          <!-- Nombre simple en otras vistas -->
          <span class="hidden sm:inline text-sm font-medium text-gray-700 dark:text-gray-300">
            {{ nombreUsuario() }}
          </span>
        }

        <!-- Bot√≥n Perfil -->
        <button
          (click)="irAPerfil()"
          class="hidden sm:flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors"
        >
          <svg class="size-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
          </svg>
          Perfil
        </button>

        <!-- Bot√≥n Logout -->
        <button
          (click)="logout()"
          class="rounded-lg bg-slate-200 px-4 py-2 text-sm font-medium text-slate-800 transition-colors hover:bg-slate-300 dark:bg-slate-700/50 dark:text-slate-200 dark:hover:bg-slate-600/50"
        >
          Logout
        </button>

        <!-- Avatar -->
        <div
          class="h-10 w-10 rounded-full bg-cover bg-center"
          [style.backgroundImage]="'url(' + avatarUrlSig() + ')'"
        ></div>
      </div>
    </div>
  </div>
</header>
